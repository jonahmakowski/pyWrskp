stages:
  - source_code_zip
  - github_commit

source_code_zip:
  image: alpine:latest
  stage: source_code_zip
  script:
    - apk add zip
    - mkdir build
    - zip -r build/source_code_$CI_COMMIT_SHA.zip src -x build
  artifacts:
    paths:
      - build/source_code_$CI_COMMIT_SHA.zip
    expire_in: 1 week

github_commit:
  image: alpine:latest
  stage: github_commit
  script:
    - apk add git
    - mkdir build/copy_for_github
    - cp -R . build/copy_for_github
  artifacts:
    paths:
      - build/copy_for_github
    expire_in: 1 day
